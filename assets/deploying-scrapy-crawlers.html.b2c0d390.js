import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";import{r as d,o as t,c,a as e,b as a,e as n,d as s}from"./app.29a9c448.js";const o={},l=n(`<h1 id="\u90E8\u7F72\u722C\u866B" tabindex="-1"><a class="header-anchor" href="#\u90E8\u7F72\u722C\u866B" aria-hidden="true">#</a> \u90E8\u7F72\u722C\u866B</h1><p>\u90E8\u7F72\u722C\u866B\u7684\u4E24\u79CD\u65B9\u6848:</p><ul><li>\u5F00\u6E90\u65B9\u6848 Scrapyd</li><li>Scrapy\u7684\u4ED8\u8D39\u65B9\u6848: Scrapy Cloud</li></ul><p>scrapyd\u8FD0\u884C\u5728\u670D\u52A1\u5668, \u4F5C\u4E3A\u4E00\u4E2A\u670D\u52A1, \u63A5\u6536\u7279\u5B9A\u63A5\u53E3\u7684\u5305\u90E8\u7F72, \u8FD0\u884C\u722C\u866B\u7684\u6BCF\u4E2A\u670D\u52A1\u5668\u90FD\u9700\u8981</p><h1 id="scrapyd-\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#scrapyd-\u7684\u4F7F\u7528" aria-hidden="true">#</a> Scrapyd \u7684\u4F7F\u7528</h1><p><strong>\u670D\u52A1\u5668\u90E8\u7F72</strong></p><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo python3 -m pip install scrapyd  # \u5FC5\u987B\u6307\u5B9Ascrapyd\u7684python\u7248\u672C, \u56E0\u4E3A\u4E4B\u540E\u9ED8\u8BA4\u6309\u8FD9\u4E2A\u7248\u672C\u8FD0\u884C\u722C\u866B
sudo pip3 install scrapyd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h2><p>scrapyd\u81EA1.2\u7248\u672C\u540E, \u4E0D\u518D\u81EA\u52A8\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6, \u9700\u624B\u52A8\u6DFB\u52A0</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir /etc/scrapyd
sudo nano /etc/scrapyd/scrapyd.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,11),p=s("\u914D\u7F6E\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B: "),u={href:"https://scrapyd.readthedocs.io/en/stable/config.html#example-configuration-file",target:"_blank",rel:"noopener noreferrer"},h=s("\u5B98\u65B9demo"),v=s(" ``` [scrapyd] eggs_dir = eggs logs_dir = logs items_dir = jobs_to_keep = 5 dbs_dir = dbs max_proc = 0 max_proc_per_cpu = 4 finished_to_keep = 100 poll_interval = 5.0 bind_address = 0.0.0.0 http_port = 6800 debug = off runner = scrapyd.runner application = scrapyd.app.application launcher = scrapyd.launcher.Launcher webroot = scrapyd.website.Root"),m=n(`<p>[services] schedule.json = scrapyd.webservice.Schedule cancel.json = scrapyd.webservice.Cancel addversion.json = scrapyd.webservice.AddVersion listprojects.json = scrapyd.webservice.ListProjects listversions.json = scrapyd.webservice.ListVersions listspiders.json = scrapyd.webservice.ListSpiders delproject.json = scrapyd.webservice.DeleteProject delversion.json = scrapyd.webservice.DeleteVersion listjobs.json = scrapyd.webservice.ListJobs daemonstatus.json = scrapyd.webservice.DaemonStatus \`\`\`</p><h2 id="\u5F00\u901A\u670D\u52A1\u5668\u76846800\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5F00\u901A\u670D\u52A1\u5668\u76846800\u7AEF\u53E3" aria-hidden="true">#</a> \u5F00\u901A\u670D\u52A1\u5668\u76846800\u7AEF\u53E3</h2><ul><li>\u542F\u52A8\u670D\u52A1\u5668</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scrapyd
# \u6216\u8005
systemctl enable scrapyd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5E76\u5C06scrapyd\u52A0\u5165\u5230supervisor\u6765\u786E\u4FDD\u59CB\u7EC8\u542F\u7528</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[program:scrapyd]
command=scrapyd              ; the program (relative uses PATH, can take args)
process_name=%(program_name)s ; process_name expr (default %(program_name)s)
;directory=~                ; directory to cwd to before exec (def no cwd)
autostart=true                ; start at supervisord start (default: true)
startsecs=1                   ; # of secs prog must stay up to be running (def. 1)
startretries=3                ; max # of serial start failures when starting (default 3)
autorestart=True        ; when to restart if exited after running (def: unexpected)
stopsignal=KILL               ; signal used to kill process (default TERM)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="web\u7AEF\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#web\u7AEF\u8BBF\u95EE" aria-hidden="true">#</a> web\u7AEF\u8BBF\u95EE</h2>`,7),b=s("\u8BBF\u95EE "),_={href:"http://localhost:6800/",target:"_blank",rel:"noopener noreferrer"},y=s("http://localhost:6800/");function g(f,x){const r=d("ExternalLinkIcon");return t(),c("div",null,[l,e("p",null,[p,e("a",u,[h,a(r)]),v]),m,e("blockquote",null,[e("p",null,[b,e("a",_,[y,a(r)])])])])}var k=i(o,[["render",g],["__file","deploying-scrapy-crawlers.html.vue"]]);export{k as default};
